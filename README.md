# A2A MVP Project - Test-Driven Development

Google A2Aï¼ˆAgent-to-Agentï¼‰ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å®Ÿè£…ç ”ç©¶ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€‚TDDæ‰‹æ³•ã«ã‚ˆã‚Šé«˜å“è³ªãªã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã€‚

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- **âœ… A2A MVPå®Ÿè£…å®Œäº†**: TDDæ‰‹æ³•ã«ã‚ˆã‚‹æœ¬æ ¼çš„å®Ÿè£…
- **ğŸ“Š ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 91.77%ï¼ˆç›®æ¨™85%ã‚’å¤§å¹…è¶…éï¼‰
- **ğŸ§ª ãƒ†ã‚¹ãƒˆæ•°**: 84å€‹ï¼ˆå…¨ã¦åˆæ ¼ï¼‰
- **âš¡ ãƒ“ãƒ«ãƒ‰æ™‚é–“**: 45ç§’ï¼ˆCI/CDæœ€é©åŒ–æ¸ˆã¿ï¼‰
- **ğŸ“ ã‚³ãƒ¼ãƒ‰å“è³ª**: Flake8 0é•åã€Black/isorté©ç”¨æ¸ˆã¿

### ä¸»ãªæˆæœ
| æŒ‡æ¨™ | é”æˆå€¤ | å‚™è€ƒ |
|------|--------|------|
| é–‹ç™ºæœŸé–“ | 3æ—¥é–“ | TDDæ¡ç”¨ã«ã‚ˆã‚Šé«˜é€Ÿé–‹ç™º |
| ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ | 91.77% | æ¥­ç•Œå¹³å‡60-70%ã‚’å¤§å¹…è¶…é |
| å¿œç­”é€Ÿåº¦ | 12ms/ãƒªã‚¯ã‚¨ã‚¹ãƒˆ | æœ¬ç•ªç’°å¢ƒãƒ¬ãƒ™ãƒ«ã®æ€§èƒ½ |
| ã‚³ãƒ¼ãƒ‰è¡Œæ•° | ç´„1,200è¡Œ | ã‚·ãƒ³ãƒ—ãƒ«ã§ä¿å®ˆã—ã‚„ã™ã„è¨­è¨ˆ |

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å¿…è¦ãªç’°å¢ƒ
- Python 3.10-3.12
- Poetry
- Dockerï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yourusername/a2a-mvp.git
cd a2a-mvp

# 2. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
poetry install

# 3. ä»®æƒ³ç’°å¢ƒã®æœ‰åŠ¹åŒ–
poetry shell

# 4. å“è³ªãƒã‚§ãƒƒã‚¯ã®å®Ÿè¡Œ
python scripts/quality_gate_check.py

# 5. ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
pytest --cov=app --cov-report=html
```

### Dockerç’°å¢ƒï¼ˆæ¨å¥¨ï¼‰

```bash
# é–‹ç™ºç’°å¢ƒã®èµ·å‹•
make up

# é–‹ç™ºç’°å¢ƒã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
make bash

# ç’°å¢ƒã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
make clean
```

æ³¨ï¼šãƒ†ã‚¹ãƒˆå®Ÿè¡Œã¯ `pytest` ã‚³ãƒãƒ³ãƒ‰ã‚’ç›´æ¥ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
app/a2a/
â”œâ”€â”€ core/           # ãƒ“ã‚¸ãƒã‚¹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆTask, Request, Responseï¼‰
â”œâ”€â”€ storage/        # ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–å±¤ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ + å®Ÿè£…ï¼‰
â”œâ”€â”€ skills/         # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆã‚¿ã‚¹ã‚¯ç®¡ç†ã‚¹ã‚­ãƒ«ï¼‰
â”œâ”€â”€ agents/         # A2Aã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè£…
â””â”€â”€ server/         # FastAPIã‚µãƒ¼ãƒãƒ¼

tests/
â”œâ”€â”€ unit/           # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆå„å±¤ã”ã¨ï¼‰
â”œâ”€â”€ integration/    # çµ±åˆãƒ†ã‚¹ãƒˆ
â””â”€â”€ e2e/           # ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ
```

## ğŸ’» å®Ÿè£…ã•ã‚ŒãŸA2Aã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

### TaskAgent - ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
å®Œå…¨ãªCRUDæ“ä½œã‚’å‚™ãˆãŸã‚¿ã‚¹ã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã€‚A2Aãƒ—ãƒ­ãƒˆã‚³ãƒ«æº–æ‹ ã€‚

**ä¸»ãªæ©Ÿèƒ½:**
- âœ… ã‚¿ã‚¹ã‚¯ã®ä½œæˆãƒ»å–å¾—ãƒ»æ›´æ–°ãƒ»å‰Šé™¤
- âœ… ã‚¿ã‚¹ã‚¯å®Œäº†çŠ¶æ…‹ã®åˆ‡ã‚Šæ›¿ãˆ
- âœ… ã‚¿ã‚¹ã‚¯ä¸€è¦§è¡¨ç¤º
- âœ… å…¨ã‚¿ã‚¹ã‚¯ã‚¯ãƒªã‚¢

**ä½¿ç”¨ä¾‹:**
```python
# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
message = {
    "action": "create",
    "data": {
        "title": "A2Aãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’å­¦ã¶",
        "description": "å®Ÿè£…ã‚’é€šã˜ã¦ç†è§£ã‚’æ·±ã‚ã‚‹"
    }
}
response = agent.handle_message(message)
# => {"success": true, "data": {"task": {...}}}
```

## ğŸ“Š å“è³ªç®¡ç†

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸è©³ç´°
```
app/a2a/core/types.py          100%
app/a2a/core/exceptions.py     100%
app/a2a/storage/interface.py   100%
app/a2a/storage/memory.py      100%
app/a2a/skills/task_skills.py   96%
app/a2a/agents/task_agent.py    92%
app/a2a/server/app.py           87%
-------------------------------------------
TOTAL                             91.77%
```

### CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- **GitHub Actions**: è‡ªå‹•ãƒ†ã‚¹ãƒˆãƒ»å“è³ªãƒã‚§ãƒƒã‚¯
- **ãƒãƒ«ãƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ**: Python 3.10, 3.11, 3.12
- **ä¾å­˜é–¢ä¿‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: é«˜é€Ÿãƒ“ãƒ«ãƒ‰ï¼ˆ45ç§’ï¼‰
- **è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤**: main ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒãƒ¼ã‚¸ã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

## ğŸ“– ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### é–‹ç™ºã‚¬ã‚¤ãƒ‰
- **[CLAUDE.md](CLAUDE.md)**: AIæ”¯æ´é–‹ç™ºã®ãŸã‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¬ã‚¤ãƒ‰
- **[docs/01.requirements/target_personas.md](docs/01.requirements/target_personas.md)**: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±¤ï¼ˆæƒ³å®šèª­è€…ï¼‰ã®å®šç¾©
- **[docs/02.basic_design/a2a_architecture.md](docs/02.basic_design/a2a_architecture.md)**: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸
- **[docs/03.detail_design/a2a_tdd_implementation.md](docs/03.detail_design/a2a_tdd_implementation.md)**: TDDå®Ÿè£…ã®è©³ç´°

### Noteè¨˜äº‹ï¼ˆå®Ÿè·µçš„è§£èª¬ï¼‰
- **[A2Aãƒ—ãƒ­ãƒˆã‚³ãƒ«å…¥é–€](docs/05.articles/note_a2a_introduction_level1.md)**: åˆå¿ƒè€…å‘ã‘è§£èª¬
- **[TDDã§ä½œã‚‹A2Aã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ](docs/05.articles/note_a2a_practice_level2.md)**: å®Ÿè£…ã®è©³ç´°è§£èª¬

### å“è³ªãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **[memory-bank/quality_management_system.md](memory-bank/quality_management_system.md)**: å“è³ªç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- **[memory-bank/security_rules_enhancement.md](memory-bank/security_rules_enhancement.md)**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«
- **[memory-bank/accuracy_verification_rules.md](memory-bank/accuracy_verification_rules.md)**: æ­£ç¢ºæ€§æ¤œè¨¼ãƒ«ãƒ¼ãƒ«

## ğŸ§ª é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

### æ—¥å¸¸çš„ãªé–‹ç™º
```bash
# å“è³ªã‚²ãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯ï¼ˆã‚³ãƒŸãƒƒãƒˆå‰ã«å®Ÿè¡Œæ¨å¥¨ï¼‰
python scripts/quality_gate_check.py

# ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ­£ç¢ºæ€§ãƒã‚§ãƒƒã‚¯ï¼ˆæ¨å¥¨: ã‚³ãƒŸãƒƒãƒˆå‰å®Ÿè¡Œï¼‰
python scripts/verify_accuracy.py

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest                          # å…¨ãƒ†ã‚¹ãƒˆ
pytest tests/unit/             # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ã¿
pytest -k "test_name"          # ç‰¹å®šã®ãƒ†ã‚¹ãƒˆ
pytest --cov=app               # ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã

# ã‚³ãƒ¼ãƒ‰å“è³ª
black app/                     # ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
flake8 app/                    # Lintãƒã‚§ãƒƒã‚¯
mypy app/ --ignore-missing-imports  # å‹ãƒã‚§ãƒƒã‚¯

# ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
uvicorn app.a2a.server.app:app --reload
```

### Dockerç’°å¢ƒ
```bash
make              # ç’°å¢ƒæ§‹ç¯‰ãƒ»èµ·å‹•
make up           # ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•
make bash         # ã‚³ãƒ³ãƒ†ãƒŠå†…ã‚·ã‚§ãƒ«ã‚¢ã‚¯ã‚»ã‚¹
make clean        # ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆpytestã‚’ç›´æ¥ä½¿ç”¨ï¼‰
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### å®Ÿè£…ã•ã‚ŒãŸã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–
1. **å…¥åŠ›æ¤œè¨¼**: Pydanticã«ã‚ˆã‚‹å³æ ¼ãªå‹ãƒã‚§ãƒƒã‚¯ï¼ˆå®Ÿè£…äºˆå®šï¼‰
2. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: éå‰°ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’åˆ¶é™ï¼ˆå®Ÿè£…äºˆå®šï¼‰
3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å†…éƒ¨æƒ…å ±ã®æ¼æ´©é˜²æ­¢
4. **ä¾å­˜é–¢ä¿‚ç®¡ç†**: Poetry ã«ã‚ˆã‚‹å³æ ¼ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯
```bash
# ä¾å­˜é–¢ä¿‚ã®è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯
poetry show --outdated

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ï¼ˆè¦pip-auditï¼‰
# pip-audit
```

## ğŸ¤ è²¢çŒ®æ–¹æ³•

1. **Issueä½œæˆ**: ãƒã‚°å ±å‘Šã‚„æ©Ÿèƒ½ææ¡ˆ
2. **Pull Request**: 
   - feature/ãƒ–ãƒ©ãƒ³ãƒã§é–‹ç™º
   - å“è³ªã‚²ãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯ã‚’ãƒ‘ã‚¹
   - ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸85%ä»¥ä¸Šã‚’ç¶­æŒ
   - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ­£ç¢ºæ€§ãƒã‚§ãƒƒã‚¯ã‚’ãƒ‘ã‚¹

## ğŸ“‹ ä»Šå¾Œã®è¨ˆç”»

### çŸ­æœŸï¼ˆ1-2é€±é–“ï¼‰
- [ ] WebSocketã‚µãƒãƒ¼ãƒˆè¿½åŠ 
- [ ] èªè¨¼ãƒ»èªå¯æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] PostgreSQLã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®Ÿè£…
- [ ] Pydanticå°å…¥ã«ã‚ˆã‚‹å…¥åŠ›æ¤œè¨¼å¼·åŒ–

### ä¸­æœŸï¼ˆ1-2ãƒ¶æœˆï¼‰
- [ ] ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé€£æº
- [ ] éåŒæœŸå‡¦ç†ã®æœ€é©åŒ–
- [ ] Kuberneteså¯¾å¿œ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã®è¿½åŠ 

### é•·æœŸï¼ˆ3-6ãƒ¶æœˆï¼‰
- [ ] ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹
- [ ] LLMçµ±åˆï¼ˆè‡ªç„¶è¨€èªç†è§£ï¼‰
- [ ] ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºæ©Ÿèƒ½
- [ ] æ±ç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯åŒ–

---

**é–‹ç™ºè€…**: [Your Name]  
**ãƒ©ã‚¤ã‚»ãƒ³ã‚¹**: MIT  
**æœ€çµ‚æ›´æ–°**: 2024å¹´12æœˆ
