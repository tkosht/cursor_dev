# AMS 実装ガイドドキュメント

## 概要

Article Market Simulator (AMS) の実装フェーズに向けた準備ドキュメント群です。要件定義と基本設計を基に、具体的な実装計画とガイドラインを提供します。

## ドキュメント一覧

### 📋 [AMS-IG-001: 実装チェックリスト](AMS-IG-001-implementation-checklist.md)
MVP実装（4週間）の詳細なチェックリストです。
- 開発環境セットアップ項目
- 週次タスクブレークダウン（※ウォーターフォール型）
- テスト戦略チェックリスト
- リスク管理と成功基準

### 🔄 [AMS-IG-005: アジャイル・TDDアプローチ](AMS-IG-005-agile-tdd-approach.md) **NEW**
テスト駆動開発とアジャイルプロセスによる実装戦略です。
- 2週間スプリント × 2回の構成
- TDD実装フロー（Red-Green-Refactor）
- 垂直スライス開発
- ユーザー設定と動的生成の明確化

### 📝 [AMS-IG-006: 設定仕様](AMS-IG-006-configuration-specification.md) **NEW**
ユーザー設定と動的生成の詳細仕様です。
- 設定可能項目の完全リスト
- 動的生成項目の詳細
- 設定例とベストプラクティス
- 境界線の明確化

### 📝 [AMS-IG-008: 実装ガイドライン](AMS-IG-008-implementation-guidelines.md) **NEW**
正確な情報に基づく開発のためのガイドラインです。
- 公式ドキュメントの確認必須事項
- 実装前の確認チェックリスト
- 推測による実装の禁止
- モデル選択の透明性確保

### 🔍 [AMS-IG-002: 整合性レビューと確認事項](AMS-IG-002-consistency-review.md)
既存ドキュメント間の整合性確認と不明点の洗い出しです。
- ドキュメント間の整合性確認結果
- 実装上の不明点リスト
- 設計上の確認事項
- 潜在的な矛盾・課題と対策

### 🧪 [AMS-IG-003: テスト戦略](AMS-IG-003-test-strategy.md)
LLMモック不使用の制約下での現実的なテスト戦略です。
- テストレベル定義（Unit/Integration/E2E）
- LLM統合テストの具体的アプローチ
- パフォーマンステスト計画
- コスト管理戦略

### 🛠️ [AMS-IG-004: 開発環境セットアップガイド](AMS-IG-004-development-setup.md)
開発を開始するための環境構築手順です。
- 必要なツールとアカウント
- プロジェクト構造の作成
- 依存関係の管理
- 開発ワークフロー

## 主要な発見事項

### ✅ 整合性が確認された項目
1. **ペルソナ生成**: 6層階層モデルで統一
2. **ペルソナ数**: MVP 50体、将来 100体対応
3. **技術スタック**: Python 3.11+, LangGraph, Gemini 2.5 Flash
4. **アーキテクチャ**: プラグイン型、イベント駆動

### ⚠️ 確認が必要な項目
1. **Gemini API制限**
   - レート制限の具体的な値
   - 並列リクエスト数の上限
   - コスト見積もり

2. **パフォーマンス要件**
   - 50ペルソナ10秒生成の現実性
   - キャッシュ戦略の必要性

3. **データ永続化**
   - シミュレーション結果の保存要否
   - 時系列データストレージの選定

## 推奨される次のアクション（アジャイル・TDD版）

### 1. 即座に実行（今日）
- [ ] 開発環境の構築（AMS-IG-004に従う）
- [ ] `scripts/verify_setup.py`で環境確認
- [ ] 最初の失敗するテストを作成（記事分析）

### 2. Sprint 1 開始（明日から）
- [ ] Day 1: `test_article_analysis()`を作成（RED）
- [ ] Day 1: 最小限の実装（GREEN）
- [ ] Day 1: リファクタリング（REFACTOR）
- [ ] Day 2: 次の機能のテスト作成

### 3. デイリーTDDサイクル
- [ ] 朝: 新機能のテスト作成（必ず失敗）
- [ ] 午前: テストを通す最小実装
- [ ] 午後: リファクタリングと統合テスト
- [ ] 夕方: 進捗確認とコミット

## MVP実装スケジュール概要（アジャイル版）

```
Sprint 1 (Week 1-2): 最小限の動作するペルソナ生成
  - 記事分析 → 単一ペルソナ生成 → 評価 → 出力
  - TDDで垂直スライス開発
  - 2週目終了時にデモ可能な状態

Sprint 2 (Week 3-4): シミュレーションと可視化
  - 複数ペルソナ → 相互作用 → 時系列 → 可視化
  - Sprint 1の基盤上に機能追加
  - 最終的な統合とリリース準備
```

### アプローチの違い

| 項目 | ウォーターフォール型（IG-001） | アジャイル・TDD型（IG-005） |
|------|--------------------------|------------------------|
| 開発単位 | 機能別（横断的） | 価値別（垂直的） |
| テスト | 実装後に作成 | 実装前に作成 |
| 動作確認 | Week 4で統合 | 毎日動作確認 |
| フィードバック | 最後に一括 | 継続的に反映 |

## 質問事項（ユーザー確認が必要）

1. **開発アプローチ**
   - アジャイル・TDDアプローチ（IG-005）で進めてよいか？
   - それともウォーターフォール型（IG-001）を希望するか？

2. **MVP範囲の最終確認**
   - Sprint 1: 単一ペルソナでの基本動作確認でよいか？
   - Sprint 2: 複数ペルソナとシミュレーションでよいか？

3. **ユーザー設定の確認**
   - IG-006の設定項目で過不足はないか？
   - 他に制御したい項目はあるか？

4. **技術選定**
   - 時系列データは初期はローカルファイルでよいか？
   - WebUIは将来対応でよいか？

5. **テスト方針**
   - 実際のLLM APIを使用したTDDで問題ないか？
   - デイリーでのAPI利用コストは許容可能か？

---

更新日: 2025-07-21
作成者: AMS Implementation Team