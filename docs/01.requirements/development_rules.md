# 開発ルール

## 開発環境
1. VSCode Dev Container環境
   - すでにVSCode Dev Container内で作業中
   - コンテナ設定は .devcontainer で管理
   - 新規Dockerfile作成は禁止
   - 作業ディレクトリ: ~/workspace

2. コンテナ環境詳細
   - ベースイメージ: python:3.12-slim
   - 公開ポート: 7860（Gradio用）
   - Git操作はコンテナ内で実施
   - 環境変数は.devcontainer経由で管理

3. Python環境
   - バージョン: 3.10～3.12
   - 依存関係管理: Poetry
   - 仮想環境: 無効（Dev Container内のため）
   - コード品質管理ツール:
     - flake8によるLint
     - blackによるフォーマット
     - isortによるimport整理
     - pytestによるテスト

## コーディング規約
1. 命名規則
   - 変数名: snake_case
   - クラス名: PascalCase
   - 定数: UPPER_SNAKE_CASE
   - プライベート: 先頭アンダースコア

2. コードスタイル
   - 行長制限: 79文字
   - インデント: 4スペース
   - docstring: Googleスタイル
   - 型ヒント: 積極的に使用

3. ファイル構成
   - ソースコード: app/
   - テストコード: tests/
   - ドキュメント: docs/
   - 設定ファイル: プロジェクトルート

## 開発フロー
1. コード管理
   - Git操作はコンテナ内で実施
   - コミットメッセージは日本語
   - プレフィックスを適切に使用

2. テスト
   - ユニットテスト必須
   - カバレッジ80%以上
   - テストはpytestで実装

3. レビュー
   - コードレビュー必須
   - Lint エラーゼロ
   - テスト成功確認

## セキュリティ
1. 機密情報
   - 環境変数で管理
   - .envファイルは.gitignore
   - APIキーは直接コミット禁止

2. コンテナ
   - 最小限の依存パッケージ
   - 非rootユーザー実行（予定）
   - ポート公開は必要最小限

3. コード
   - 入力値の検証
   - エラーハンドリング
   - ログ出力の適切な制御 
