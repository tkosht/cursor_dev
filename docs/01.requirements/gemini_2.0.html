<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>企業情報クロール・分析システム 要件定義書 (MVP)</title>
</head>
<body>
    <h1>企業情報クロール・分析システム 要件定義書 (MVP)</h1>

    <h2>1. はじめに</h2>
    <p>本ドキュメントは、Webクローリングによって企業情報を収集し、標準化されたデータ構造に保存することで、複数企業を跨いだ分析を可能にするシステムのMVP（Minimum Viable Product）における要件を定義するものです。</p>
    <p>対象読者は、本システムの開発に関わるプロジェクトマネージャー、開発者、およびステークホルダーです。</p>
    <p>関連ドキュメント: なし (本ドキュメントが最初の成果物となります)</p>

    <h2>2. システム概要</h2>
    <h3>2.1. 目的</h3>
    <p>本システムの目的は、特定の業界に属する上場企業の公開情報をWebから自動的に収集し、分析可能な形式で提供することで、市場性の評価、競合分析、投資判断、未来の動向把握といった活動を支援することです。</p>

    <h3>2.2. スコープ (MVP)</h3>
    <p>本MVPでは、以下の機能に焦点を当てます。</p>
    <ul>
        <li>特定の業界の上場企業の基本情報およびニュース記事の収集</li>
        <li>収集したデータの標準化と保存</li>
        <li>収集データの基本的な分析と可視化</li>
    </ul>

    <h3>2.3. 主要機能</h3>
    <ul>
        <li><strong>情報収集機能:</strong> 指定したWebサイトから企業情報をクロールする。</li>
        <li><strong>データ標準化機能:</strong> 収集したデータを共通のデータモデルに変換する。</li>
        <li><strong>データ保存機能:</strong> 標準化されたデータをデータベースに保存する。</li>
        <li><strong>分析・可視化機能:</strong> 保存されたデータに対して基本的な分析を行い、結果を可視化する。</li>
    </ul>

    <h3>2.4. 利用対象者</h3>
    <p>本システムの主な利用対象者は、市場調査担当者、経営企画担当者、投資アナリストなどを想定しています。</p>

    <h2>3. 非機能要件</h2>
    <h3>3.1. 性能要件</h3>
    <ul>
        <li><strong>情報収集:</strong> 対象企業（50社程度）の情報を1週間以内に収集完了すること。</li>
        <li><strong>データ標準化:</strong> 収集したデータを1日以内に標準化処理を完了すること。</li>
        <li><strong>分析・可視化:</strong> ダッシュボードの表示に5秒以内であること。</li>
    </ul>

    <h3>3.2. セキュリティ要件</h3>
    <ul>
        <li>認証機能は実装しない（MVP）。</li>
        <li>データへのアクセスは開発者に限定する（MVP）。</li>
        <li>収集データの保管場所は限定されたアクセス権を持つ環境とする。</li>
    </ul>

    <h3>3.3. 可用性要件</h3>
    <ul>
        <li>システムは、メンテナンス時間を除き、週5日稼働することを目標とする。</li>
        <li>計画的なメンテナンスは事前に通知する。</li>
    </ul>

    <h3>3.4. 保守性要件</h3>
    <ul>
        <li>コードは可読性を意識して記述する。</li>
        <li>ログ出力により、問題発生時の原因特定を容易にする。</li>
    </ul>

    <h2>4. 機能要件</h2>
    <h3>4.1. 情報収集機能</h3>
    <h4>4.1.1. 対象企業リスト管理</h4>
    <ul>
        <li>特定の業界（例: SaaS業界）の上場企業リストをCSVファイルで管理できること。</li>
        <li>企業リストは手動で更新できること。</li>
    </ul>
    <h4>4.1.2. 情報源管理</h4>
    <ul>
        <li>情報源として、企業公式サイト (会社概要、IR情報) および主要経済ニュースサイト (例: 日経新聞、Bloomberg) を指定できること。</li>
        <li>各情報源に対して、クロール対象ページのURLパターンを設定できること。</li>
    </ul>
    <h4>4.1.3. クローリング実行</h4>
    <ul>
        <li>指定したスケジュール（例: 毎週月曜日午前2時）で自動的にクローリングを実行できること。</li>
        <li>robots.txt を遵守すること。</li>
        <li>Webサイトへの負荷を考慮し、レート制限 (例: 1秒間に2リクエスト) を設けること。</li>
        <li>クローリングの実行状況 (成功、失敗、エラー内容) をログに出力すること。</li>
    </ul>
    <h4>4.1.4. データ抽出</h4>
    <ul>
        <li>企業公式サイトから、企業名、本社所在地、設立年月日、業種、代表者名、公式サイトURLを抽出できること。</li>
        <li>ニュースサイトから、記事タイトル、掲載日、掲載メディア、記事URLを抽出できること。</li>
        <li>データ抽出ルールは、XPathまたはCSSセレクタを用いて設定ファイルに定義できること。</li>
    </ul>

    <h3>4.2. データ標準化機能</h3>
    <h4>4.2.1. データモデル定義</h4>
    <ul>
        <li>収集したデータを格納するための標準データモデルを定義すること。</li>
        <li>データモデルは、企業エンティティとニュース記事エンティティを含むこと。</li>
        <li>各エンティティは、必要な属性 (例: 企業名、記事タイトルなど) を持つこと。</li>
    </ul>
    <h4>4.2.2. データ変換</h4>
    <ul>
        <li>収集したデータを定義されたデータモデルに合わせて変換すること。</li>
        <li>日付や数値のフォーマットを統一すること。</li>
    </ul>
    <h4>4.2.3. 名寄せ</h4>
    <ul>
        <li>企業名をキーとして、同一企業の重複データを名寄せできること（完全一致）。</li>
        <li>法人番号が取得できる場合は、法人番号も名寄せのキーとして利用できること。</li>
    </ul>

    <h3>4.3. データ保存機能</h3>
    <ul>
        <li>標準化されたデータをリレーショナルデータベース (例: PostgreSQL) に保存できること。</li>
        <li>データは、企業テーブルとニュース記事テーブルに分けて保存すること。</li>
    </ul>

    <h3>4.4. 分析・可視化機能</h3>
    <h4>4.4.1. 基本分析</h4>
    <ul>
        <li>企業リストにおける企業数の集計、業種別企業数の集計ができること。</li>
        <li>企業ごとのニュース記事数を集計できること。</li>
    </ul>
    <h4>4.4.2. 可視化</h4>
    <ul>
        <li>集計結果を棒グラフや円グラフで表示できること。</li>
        <li>可視化には、Tableau PublicなどのBIツールを利用することを想定する。</li>
        <li>BIツールで利用可能な形式でデータを出力できること (例: CSV)。</li>
    </ul>

    <h2>5. 外部インターフェース要件</h2>
    <p>本MVPでは、外部システムとの連携は考慮しない。</p>

    <h2>6. 制約事項</h2>
    <ul>
        <li>開発期間: 3ヶ月</li>
        <li>開発リソース: エンジニア1名</li>
        <li>利用可能な技術スタック: Python, PostgreSQL, (必要に応じて) Tableau Public</li>
    </ul>

    <h2>7. 受け入れ条件</h2>
    <ul>
        <li>指定された業界の企業情報を指定された情報源から収集できること。</li>
        <li>収集したデータが定義されたデータモデルに準拠して保存されていること。</li>
        <li>基本的な集計・可視化機能が利用できること。</li>
        <li>非機能要件で定義された性能目標を達成していること。</li>
    </ul>
</body>
</html>