# 進捗記録必須ルール

**作成日**: 2025-06-16  
**重要度**: ★★★★☆ HIGH  
**適用範囲**: 全てのCognee関連作業、長期プロジェクト

## 🎯 基本原則

### 必須記録タイミング
1. **タスク実行完了時**: 各個別タスクが完了するたびに即座記録
2. **フェーズ完了時**: A1、A2等のフェーズ単位での完了記録
3. **セッション終了時**: セッション全体の総括記録
4. **重要な知見発見時**: 問題発生・解決時の即座記録

### 記録必須内容
1. **ユーザー依頼内容**: 元の要求・指示の正確な記録
2. **実行したアクション**: 具体的なコマンド・操作内容
3. **結果・成果**: 定量的・定性的な結果
4. **発見した知見**: 新しい学習事項・教訓
5. **今後への影響**: 次のアクション・戦略への示唆

## 📋 記録フォーマット（標準テンプレート）

### 基本記録構造
```markdown
## 📊 [日付] セッション記録

### 🔍 ユーザー依頼内容
- **依頼**: [具体的な依頼内容]
- **背景**: [依頼の背景・目的]
- **期待成果**: [ユーザーが期待している結果]

### ⚡ 実行内容
- **Phase**: [A1/A2/A3等のフェーズ]
- **具体アクション**: 
  - [実行したコマンド・操作]
  - [処理したファイル]
  - [確認事項]

### 📈 結果・成果
- **定量結果**: [数値的成果]
- **定性結果**: [質的成果]
- **処理状況**: [成功/部分成功/要注意/失敗]

### 🧠 発見知見・ナレッジ
- **新発見**: [今回新たに分かったこと]
- **教訓**: [今後活用すべき学習事項]
- **注意事項**: [今後気をつけるべき点]
- **改善点**: [プロセス・手順の改善提案]

### 🎯 次期戦略・アクション
- **即座実行可能**: [すぐできること]
- **準備が必要**: [事前準備が必要なこと]
- **長期計画**: [将来的な計画]
- **リスク要因**: [注意すべきリスク]
```

## 🚨 必須遵守事項

### ❌ 禁止事項
1. **記録の先送り**: タスク完了後即座に記録（後回し禁止）
2. **抽象的記録**: 具体性のない曖昧な記録
3. **結果のみ記録**: プロセス・学習事項の記録省略
4. **個人的感想のみ**: 客観的事実の記録不足

### ✅ 必須実行事項
1. **即座記録**: タスク完了から5分以内の記録
2. **具体的記録**: コマンド・ファイル名・数値の正確記録
3. **学習事項抽出**: 各タスクから得られた知見の明示
4. **次期行動明確化**: 次に何をすべきかの明確化

## 📂 記録ファイル管理

### 主要記録ファイル
1. **memory-bank/06-project/progress/progress.md**: プロジェクト全体進捗記録
2. **memory-bank/06-project/progress/critical_issues_tracker.md**: 重要課題追跡記録
3. **memory-bank/09-meta/session_continuity_task_management.md**: セッション継続性タスク管理（AIエージェント用）
4. **memory-bank/01-cognee/cognee_expansion_progress.md**: Cognee拡張進捗の専用記録（存在する場合）

### 更新ルール
```bash
# 1. 進捗記録の更新
echo "=== 進捗記録更新プロトコル ==="

# A. 作業完了後即座実行
cat >> memory-bank/01-cognee/cognee_expansion_progress.md << 'EOF'

## 📊 [$(date)] 更新

### ユーザー依頼
- [依頼内容記録]

### 実行内容
- [具体的アクション記録]

### 結果・知見
- [成果・学習事項記録]

### 次期戦略
- [次のアクション提案]

EOF

# B. セッション記録（新規または追記）
[セッション記録の更新]

# C. 知見データベース更新
[関連知見ファイルの更新]
```

## 🔄 継続改善プロセス

### 記録品質チェック
1. **完全性**: 必須項目の記録漏れなし
2. **正確性**: 事実に基づく客観的記録
3. **有用性**: 今後の活動に活用可能な内容
4. **時系列性**: 時間的経緯の明確な記録

### 定期レビュー
- **週次**: 記録内容の品質・有用性確認
- **月次**: 記録プロセスの改善検討
- **四半期**: 長期トレンド・パターン分析

## 📊 記録活用戦略

### 即座活用
- 次セッション開始時の状況把握
- 類似問題発生時の解決策参照
- 効率的な作業手順の再利用

### 中長期活用
- プロジェクト全体の進捗管理
- 知見・ノウハウの体系化
- 成功パターン・失敗パターンの分析

---

## 🎯 実装例（今回セッション適用）

### 今回の記録例
```markdown
## 📊 2025-06-16 Cogneeナレッジ再構築セッション

### 🔍 ユーザー依頼内容
- **依頼**: 「git リポジトリの差分≒進捗状況を精緻に確認・整理し、次のアクションを提案」
- **背景**: Cogneeナレッジ再構築の進捗把握と効率的な次期戦略立案
- **期待成果**: 現状の正確な把握と具体的な次期アクション提案

### ⚡ 実行内容
- **Phase**: A2完了確認・A3準備
- **具体アクション**: 
  - git status/diff/log確認
  - cognify_status確認
  - A2-1,A2-2のcognify実行
  - 動作確認（search実行）

### 📈 結果・成果
- **定量結果**: A2完了（10/111ファイル登録）
- **定性結果**: Phase 1基盤の80%完成
- **処理状況**: 成功（DATASET_PROCESSING_COMPLETED確認済み）

### 🧠 発見知見・ナレッジ
- **新発見**: 並列cognify実行によるデッドロックリスク
- **教訓**: 処理完了確認なしでの次期提案は危険
- **注意事項**: 必ず順次実行・完了確認が必要
- **改善点**: 記録プロセスの標準化・ルール化

### 🎯 次期戦略・アクション
- **即座実行可能**: A3-1,A3-2の順次実行
- **準備が必要**: Phase 2移行時の戦略検討
- **長期計画**: 111ファイル全体の段階的拡張
- **リスク要因**: メモリ消費・処理時間の管理
```

---

## 🔗 関連ファイル・導線設計

### 直接関連
- **memory-bank/09-meta/session_continuity_task_management.md**: セッション継続性タスク管理（AIエージェント用）
- **memory-bank/00-core/user_authorization_mandatory.md**: ユーザー承認必須ルール（統合版）

### 参照方法
1. **CLAUDE.md起動時**: セッション継続性ファイルが自動チェック
2. **smart_knowledge_load()実行時**: 必須ファイルが自動ロード  
3. **Cognee検索**: キーワード「session-continuity」「progress-recording」で発見

### 導線設計
- セッション開始 → CLAUDE.md → smart_knowledge_load() → session_continuity_check
- 進捗記録時 → TodoWrite → session_continuity_task_management.md更新
- セッション復帰 → session_continuity_task_management.md参照 → 作業継続

---

**重要**: この記録ルールは、作業の品質向上と継続性確保のために必須です。記録を怠ることは、過去の学習を無駄にし、同じ問題を繰り返すリスクを高めます。