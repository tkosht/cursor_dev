# テストドリブン開発必須ルール

## 🚨 絶対遵守事項：テストドリブン開発の原則

### 1. 基本原則
1. **テストドリブンで実施すること**（最重要・3回強調されたルール）
2. **テストがパスしない限り実装を完了とみなさない**
3. **チェックリストドリブンで実施すること**

### 2. テスト設計プロセス
1. **テストの意味を整理してチェックリスト化**
   - 各テストが何を検証しているか明確化
   - テストの目的と期待される振る舞いを文書化
   
2. **意味があるテストを設計**
   - 形式的なテストではなく、実際の使用を想定
   - エッジケースを含む包括的なテスト

### 3. エラー解析プロセス
1. **エラーをチェックリスト化**
   - 全てのエラーを一覧化
   - エラーの種類で分類
   
2. **要因候補を洗い出してチェックリスト化**
   - 各エラーの可能な原因を列挙
   - 優先順位を付けて調査
   
3. **一つ一つエラー解消するか検証**
   - 系統的にエラーを解決
   - 各修正の効果を確認

### 4. 問題解決の制約
1. **テスト項目のハッキングは禁止**
   - テストを通すためだけの表面的な修正は不可
   - 根本的な問題解決を行う
   
2. **誠実にエラー解析**
   - エラーの本質を理解する
   - 適切な解決策を実装

### 5. エスカレーション
**AIの能力の限界が来た場合に限り、ユーザーにエラー解析のヒントを求める**
- 十分な調査と試行の後のみ
- 具体的な問題点を明確にして質問

## 実行チェックリストテンプレート

### ステップ1: テスト分析
- [ ] 全テストケースの目的を文書化
- [ ] 期待される振る舞いを明確化
- [ ] テストの依存関係を特定

### ステップ2: エラー分析
- [ ] 全エラーメッセージを収集
- [ ] エラーを種類別に分類
- [ ] 共通パターンを特定

### ステップ3: 原因調査
- [ ] 各エラーの根本原因候補をリスト化
- [ ] 仮説を立てて検証計画を作成
- [ ] 優先順位を設定

### ステップ4: 修正実装
- [ ] 最小限の修正から開始
- [ ] 各修正後にテストを実行
- [ ] 副作用を確認

### ステップ5: 検証
- [ ] 全テストがパスすることを確認
- [ ] カバレッジを確認
- [ ] リファクタリングの必要性を評価

---
作成日: 2025-07-22
適用対象: 全てのテスト駆動開発タスク